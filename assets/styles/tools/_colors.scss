$colors: (
  dark: hsl(0, 0%, 10%),
  light: hsl(0, 0%, 100%),
  primary: hsl(45, 100%, 50%),
);

@function color($name, $opacity: 1) {
  $value: nth(map-get($colors, $name), 1);

  @if $opacity != 1 {
    @return unquote("rgba(#{red($value)}, #{green($value)}, #{blue($value)}, #{$opacity})");
  }

  @else {
    @return map-get($colors, $name);
  }
}

@each $name, $color in $colors {

  .text-#{$name} {
    color: $color;
  }
}
